<!DOCTYPE html>
<html lang="ko">
{% load static %}
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>My EDA Project</title>

  <!-- Bootstrap core CSS -->
  <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="{% static 'css/simple-sidebar.css' %}" rel="stylesheet">

  <!-- favicon -->
  <link href="{% static 'free-bar-chart-icon-676-thumb.png' %}" rel="shorcut icon">

  <!-- Jquery -->
  <script src="//code.jquery.com/jquery-3.3.1.min.js"></script>

  <!-- Font_Awesome -->
  <script src="https://kit.fontawesome.com/5f3e222d81.js" crossorigin="anonymous"></script>

  <style>
    .back-to-top {
      cursor: pointer;
      position: fixed;
      bottom: 20px;
      right: 20px;
      display:none;
      color: #fff;
      background-color: lightgray;
      border-color: lightgray;
    }
  </style>

</head>

<body>

  <div class="d-flex" id="wrapper">

    <!-- Sidebar -->
    <div class="bg-light border-right" id="sidebar-wrapper">
      <div class="sidebar-heading">US Health Insurance Dataset Analysis</div>
      <div class="list-group list-group-flush">
        <a href="" class="list-group-item list-group-item-action bg-light" name="1" style="background-color: #dae0e5!important;">Data Setì— ëŒ€í•œ ì„¤ëª…</a>
        <a href="#" class="list-group-item list-group-item-action bg-light" id="list-group-item" name="2">ì „ë°˜ì ì¸ ë°ì´í„° ë¶„ì„</a>
        <a href="#" class="list-group-item list-group-item-action bg-light" id="list-group-item" name="3">ë°ì´í„° ìƒê´€ê´€ê³„ ë¶„ì„ â… </a>
        <a href="#" class="list-group-item list-group-item-action bg-light" id="list-group-item" name="4">ë°ì´í„° ìƒê´€ê´€ê³„ ë¶„ì„ â…¡</a>
        <a href="#" class="list-group-item list-group-item-action bg-light" id="list-group-item" name="5">ë°ì´í„° ìƒê´€ê´€ê³„ ë¶„ì„ â…¢</a>
        <a href="#" class="list-group-item list-group-item-action bg-light" id="list-group-item" name="6">ë°ì´í„° ê²€ì¦</a>
        <a href="#" class="list-group-item list-group-item-action bg-light" id="list-group-item" name="7">(Appendix) DIY Graph !</a>
      </div>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">

      <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
        <button class="btn btn-primary" id="menu-toggle">Hide</button>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
            <li class="nav-item active">
              <a class="nav-link" href="">í™ˆ <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/Ting-Kim"><i class="fab fa-github"></i></a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ë”ë³´ê¸°
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                <!-- <a class="dropdown-item" href="#">ê´€ë¦¬ìì—ê²Œ í•œë§ˆë””</a> -->
                <!-- Button trigger modal -->
                <!-- <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
                  Launch demo modal
                </button> -->
                <a href="#myModal" class="dropdown-item" data-toggle="modal" data-target="#myModal">
                  ê´€ë¦¬ìì—ê²Œ í•œë§ˆë””
                </a>
                <a class="dropdown-item" href="{% url 'eda:profile' %}">ê´€ë¦¬ì í”„ë¡œí•„</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="https://programmers.co.kr/"><img src="{% static 'eda/programmers_logo.png' %}" style="width:80%; height: 80%"></a>
              </div>
            </li>
          </ul>
        </div>
      </nav>

      <!--  EDA Results ë„£ì„ ê³³   -->
      {% autoescape off %}
      <div class="container-fluid">
        <h1 class="mt-4">US Health Insurance Dataset</h1>
        <p>Data Setì— ëŒ€í•œ ì†Œê°œëŠ” <a href="https://www.kaggle.com/teertha/ushealthinsurancedataset">ì—¬ê¸°</a>ë¥¼ ì°¸ì¡°í•´ì£¼ì„¸ìš”.</p>
        <hr>
        <h4>Data Set ì„ ì • ì´ìœ </h4>
        <hr>
        <ul>
          <li>ë‹¤ë£° ìˆ˜ ìˆëŠ” ë°ì´í„° íƒ€ì…</li>
          <li>ìœ ì¶”í•  ìˆ˜ ìˆëŠ” ë§¥ë½</li>
          <li>ì¶”ì²œ ì‹œìŠ¤í…œ</li>
        </ul>
        <p>ë³¸ ë°ì´í„°ì…‹ì„ ì„ ì •í•œ ì´ìœ ëŠ” í¬ê²Œ 3ê°€ì§€ì…ë‹ˆë‹¤.
          ë°ì´í„°ë¥¼ ë‹¤ë£¬ ê²½í—˜ì´ ë§ì§€ ì•Šê¸°ì— ì‹¤ìŠµì—ì„œ ë‹¤ë£° ìˆ˜ ìˆëŠ” ë°ì´í„° íƒ€ì…ì„ ê°€ì§„ ë°ì´í„°ì…‹ì„ ì„ ì •í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.
          ë˜í•œ, ë°ì´í„° ë¶„ì„ì˜ ê²°ë¡ ì„ ë‚´ëŠ” ê²ƒì„ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•˜ì—¬, ë°ì´í„° ì†ì„±ì˜ ì¢…ë¥˜ê°€ ë„ˆë¬´ ë§ì€ ê²½ìš° ì œì™¸í•˜ì˜€ìŠµë‹ˆë‹¤.
        </p>
        <p>
          ë°ì´í„° ì†ì„± ê°„ ê´€ê³„ë¥¼ ìœ ì¶”í•  ìˆ˜ ìˆëŠ” ë°ì´í„°ì…‹ì„ ì„ ì •í•˜ì˜€ìŠµë‹ˆë‹¤. ë°ì´í„°ì— ëŒ€í•œ ë°°ê²½ì§€ì‹ì´ ìˆì„ ê²½ìš°,
          ì‹ ë¢°ì„± ìˆëŠ” ê°€ì„¤ì„ ì„¸ìš°ëŠ” ë“± ì „ë°˜ì ì¸ ë°ì´í„° ë¶„ì„ì— ë§ì€ ë„ì›€ì´ ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
        </p>
        <p>
          ì¶”í›„ AI ê¸°ë°˜ ì¶”ì²œ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ê³  ì‹¶ì€ ìƒê°ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
          ì¶”ì²œ ì‹œìŠ¤í…œê³¼ ê´€ë ¨í•´ì„œ ì‰½ê²Œ ìƒê°í•  ìˆ˜ ìˆëŠ” ì£¼ì œê°€ ë³´í—˜, ê¸ˆìœµ, ê´‘ê³  ë“±ì¸ë°,
          ë°ì´í„° ë¶„ì„ì´ ë³´í—˜ì— ê°€ì¥ í° íš¨ë ¥ì„ ë°œíœ˜í•  ê²ƒ ê°™ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.
        </p>
        <br>
        <hr>
        <br>
        <h4>ë°ì´í„° ë³€ìˆ˜ ì¢…ë¥˜</h4>
        <div>
          <table class="table">
            <thead>
              <th scope="col">#</th>
              <th scope="col">ë³€ìˆ˜ëª…</th>
              <th scope="col">ì„¤ëª…</th>
            </thead>
            <tbody>
              <tr>
                <th scope="row">1</th>
                <td>age</td>
                <td><code>&#60;type:int&#62;</code>, í‘œë³¸ì˜ ë‚˜ì´</td>
              </tr>
              <tr>
                <th scope="row">2</th>
                <td>sex</td>
                <td><code>&#60;type:object&#62;</code>, í‘œë³¸ì˜ ì„±ë³„ ( <em>'male' / 'female'</em> )</td>
              </tr>
              <tr>
                <th scope="row">3</th>
                <td>bmi</td>
                <td><code>&#60;type:float&#62;</code>, í‘œë³¸ì˜ <a href="https://namu.wiki/w/BMI">bmi</a> ìˆ˜ì¹˜</td>
              </tr>
              <tr>
                <th scope="row">4</th>
                <td>children</td>
                <td><code>&#60;type:int&#62;</code>, ê±´ê°• ë³´í—˜ì´ ì ìš©ë˜ëŠ” ìë…€ ë° ë¶€ì–‘ ê°€ì¡± ìˆ˜</td>
              </tr>
              <tr>
                <th scope="row">5</th>
                <td>smoker</td>
                <td><code>&#60;type:object&#62;</code>, í¡ì—° ì—¬ë¶€ ( <em>'yes' / 'no'</em> )</td>
              </tr>
              <tr>
                <th scope="row">6</th>
                <td>region</td>
                <td><code>&#60;type:object&#62;</code>, í‘œë³¸(ë³´í—˜ ê°€ì…ì)ì˜ ê±°ì£¼ì§€</td>
              </tr>
              <tr>
                <th scope="row">7</th>
                <td>charges</td>
                <td><code>&#60;type:float&#62;</code>, 'Individual medical costs billed by health insurance.' ë¼ê³  ì„¤ëª…ë˜ì–´ ìˆëŠ”ë°, <br>
                  ê°œì¸ì´ ì§€ë¶ˆí•˜ëŠ” ê±´ê°• ë³´í—˜ë£Œ ê¸ˆì•¡ì¸ì§€ ë¶€ì–‘ ê°€ì¡±ì„ í¬í•¨í•˜ì—¬ 1ì¸ë‹¹ ë‚©ë¶€í•˜ëŠ” ê¸ˆì•¡ì¸ì§€ ëª¨í˜¸í•˜ë‹¤.</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div>
          <br>
          <!-- {% autoescape off %} -->
          <b>ìƒë‹¨ê°’ í™•ì¸ (5)</b>
          {{ head }}
          <br>
          <b>í•˜ë‹¨ê°’ í™•ì¸ (5)</b>
          {{ tail }}
          <!-- {% endautoescape %} -->
          <br>
          <br>
          <h4>âœ ê°€ì„¤ ì„¸ì›Œë³´ê¸°</h4>

          <ul>
            <li><code>age, bmi</code>ê°€ ë†’ê³  (<code>smoker</code>=='yes')ì¸ ê²½ìš° <code>charges</code>ê°€ ë†’ì§€ ì•Šì„ê¹Œ?</li>
            <li>(<code>sex</code>=='male')ì¸ ê²½ìš°ê°€ <code>smoker</code>ì˜ ë¹„ì¤‘ì´ ë†’ì§€ ì•Šì„ê¹Œ?</li>
            <li><code>children</code>ì´ ë§ì„ìˆ˜ë¡ ë” ë†’ì€ <code>charges</code>ë¥¼ ê°€ì§€ì§€ ì•Šì„ê¹Œ?</li>
          </ul>
          <br>
          <br>
          <br>
        </div>
      </div>
      <a id="back-to-top" href="#" class="btn btn-primary btn-lg back-to-top" role="button" title="Click to return on the top page" data-toggle="tooltip" data-placement="left">
        <span class="glyphicon glyphicon-chevron-up"><i class="far fa-caret-square-up"></i></span>
      </a>
      </div>
      <!-- /#container-fluid -->
      {% endautoescape %}
    <!-- /#page-content-wrapper -->

      <!--  EDA Results ë„£ì„ ê³³   -->

  </div>
  <!-- /#wrapper -->

  <div class="modal fade" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">ğŸ‘¨ğŸ»â€ğŸ’» ê´€ë¦¬ìì—ê²Œ í•œë§ˆë””</h4>
        </div>
        <div class="modal-body">
          <!-- <p>One fine body&hellip;</p> -->
          <form method="POST" action="{% url 'eda:letter' %}">{% csrf_token %}
            ì´ë¦„ : <br>
            <input type="text" name="name" maxlength="20"><br>
            ë‚´ìš© : <br>
            <textarea placeholder="ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”" name="content" cols="60" rows="5"></textarea>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">ë‹«ê¸°</button>
                <input type="submit" class="btn btn-primary"></button>
              </div>
            </form>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->



  <!-- Bootstrap core JavaScript -->
  <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
  <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

  <!-- Menu Toggle Script -->
  <script>
    $("#menu-toggle").click(function(e) {
      e.preventDefault();
      $("#wrapper").toggleClass("toggled");
    });

    $(".list-group-item").on('click',function(e){
      var num = $(this).attr('name');
      if (num == 1){
        document.getElementsByName("1")[0].setAttribute('style', 'background-color:#dae0e5!important;')
        return
      }
      if (num == 7){
        alert("ì¤€ë¹„ ì¤‘ì¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤ :)")
        return
      }
      document.getElementsByName("1")[0].setAttribute('style', 'background-color:#f8f9fa!important;')
      e.preventDefault();
      console.log(num);
      console.log(this);
      $.ajax({
        url: "{% url 'eda:eda' %}",
        type:"POST",
        data:{"num":num, "csrfmiddlewaretoken":'{{ csrf_token }}'},
        dataType: "json",
        success: function(response){
          // alert("í†µì‹  Success!");
          $(".container-fluid").html(response['html']);
            
          },
        error: function(request, status, error){
          alert(error);
          document.body.innerHTML = "<b>code = " + request.status + "<br> message = </b>" + request.responseText;
        },
      })
    });

    $(document).ready(function(){
     $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
        // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('#back-to-top').tooltip('hide');
        $('body,html').animate({
          scrollTop: 0
        }, 800);
          return false;
        });
        
      $('#back-to-top').tooltip('show');

    });

    // $('#myModal').modal({
    //   keyboard: false
    // })
    // $('#myModal').on('shown.bs.modal', function () {
    //   $('#myInput').focus()
    // })
  </script>

</body>

</html>
